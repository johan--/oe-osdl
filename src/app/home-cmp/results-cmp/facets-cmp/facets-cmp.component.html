<div class="facet-group-wrapper" *ngFor="let facet_group of facet_groups">
    <div class="facet-group" (click)="facet_group.expanded = !facet_group.expanded;">
        <span class="facet-chevron glyphicon" [ngClass]="facet_group.expanded ? 'glyphicon-menu-up expanded' : 'glyphicon-menu-down'"></span>
        <span class="facet-group-name">{{facet_group.name}}</span>
    </div>
    <div class="facet-list-wrapper" *ngIf="facet_group.expanded">
        <div *ngFor="let solr_facet of facet_group.solrFields">
            <div *ngIf="facet_group.name !== 'Topics'">
                <div *ngFor="let sf of solrFacets.facet_fields[solr_facet.facet]; let idx = index">
                    <div *ngIf="idx % 2 === 0" class="facet">
                        <input [id]="'sf'+solrFacets.facet_fields[solr_facet.facet][idx]" #facetChkBox type="checkbox" (click)="setSelectedFacets({facet:solr_facet.facet,query:solrFacets.facet_fields[solr_facet.facet][idx],selected:facetChkBox.checked,type:'facet'})" />
                        <label [for]="'sf'+solrFacets.facet_fields[solr_facet.facet][idx]"><span></span>{{sf}} ({{solrFacets.facet_fields[solr_facet.facet][idx+1]}})</label>
                    </div>
                </div>
            </div>
            <div *ngIf="facet_group.name === 'Topics' && solrFacets.facet_queries">
                <div class="facet">
                    <input #facetChkBox [id]="'sf'+solr_facet.facet" (click)="setSelectedFacets({facet:solr_facet.facet,query:solr_facet.facet,selected:facetChkBox.checked,type:'query'})" type="checkbox">
                    <label [for]="'sf'+solr_facet.facet"><span></span>{{solr_facet.facet}}<b>({{solrFacets.facet_queries[solr_facet.facet]}}) </b></label>
                </div>
            </div>
        </div>
    </div>
</div>