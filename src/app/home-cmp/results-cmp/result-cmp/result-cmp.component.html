<div *ngIf="viewType === 'tile'" class="row tile-row-wrapper">
    <!--Put into a for loop for results with the attached metadata record attributes-->
    <div *ngFor="let result of solrResults" class="col-md-6 col-sm-12">
        <div class="tile-wrapper">
            <div class="record-title">{{result.title}}</div>
            <div *ngIf="result['keywords'] ? result['keywords'].indexOf('Framework') !== -1 : false" class="framework-record">
                <img src="assets/img/framework-icn.png" alt="Oregon Framework Dataset" title="Oregon Framework Dataset" />
            </div>
            <div class="record-thumbnail">
                <img #thumbnail [src]="result['url.thumbnail_s'] !== undefined ? result['url.thumbnail_s'].replace('/export?size=256,256&f=image','/info/thumbnail') : 'assets/img/oe_no_image.png' " title="thumbnail of dataset" (error)="thumbnail.src = 'assets/img/oe_no_image.png'"
                />
            </div>
            <div class="record-abstract ellipsis">
                <div>
                    <p>
                        {{result.description}}
                    </p>
                </div>
            </div>
            <div class="middle-row row">
                <div class="record-date col-xs-6"><b>Updated:</b> {{result['sys.src.item.lastmodified_tdt'] | date:'MMMM, yyyy' }}</div>
                <!--<div class="record-date col-xs-6"><b>Updated:</b> {{result['sys.src.item.lastmodified_tdt'] }}</div>-->
                <div class="record-misc col-xs-6"><b>Source:</b></div>
            </div>
            <div class="bottom-row row">
                <!--Check if download data or map service-->
                <div *ngIf="result['url.mapserver_ss'] || result['url.wms_ss'] || result['url.wfs_ss'] || result[ 'url.klm_ss']" class="record-preview col-xs-6" (click)="preview(result)">
                    <img src="./assets/img/preview-icn.png" alt="preview map service" />Preview</div>
                <div *ngIf="!result['url.mapserver_ss'] && !result['url.wms_ss']" class="record-download col-xs-6" (click)="download(result)">
                    <span class="glyphicon glyphicon-download-alt"></span>Download</div>
                <div class="record-details col-xs-6" (click)="gotoDetails(result)">Details</div>
            </div>
        </div>
    </div>
</div>
<div id="list-view-wrapper" *ngIf="viewType === 'list'" class="row">
    <div *ngFor="let result of solrResults;let idx = index" (mouseover)="result.hover = true" (mouseout)="result.hover = false" [ngClass]="{'hover': result.hover, 'not-first': idx > 0}" class="list-result col-sm-12" (click)="gotoDetails(result)" [title]="result.description">
        <div class="row">
            <div class="record-thumbnail col-xs-2"><img #thumbnail [src]="result['url.thumbnail_s'] !== undefined ? result['url.thumbnail_s'].replace('/export?size=256,256&f=image','/info/thumbnail') : 'assets/img/oe_no_image.png' " title="thumbnail of dataset" (error)="thumbnail.src = 'assets/img/oe_no_image.png'"
                /></div>
            <div class="record-list-title-col col-xs-9">
                <div class="record-title">{{result.title}}</div>
                <div class="row list-download-details">
                    <!--Check if download data or map service-->
                    <div *ngIf="result['links'] ? result['links'].length > 1 ? result['links'][1].includes('.zip') : false : false" class="record-download col-xs-6" (click)="download(result)"><span class="glyphicon glyphicon-download-alt"></span>Download</div>
                    <div *ngIf="result['url.mapserver_ss'] || result['url.wms_ss'] || result['url.wfs_ss'] || result[ 'url.klm_ss']" class="record-preview col-xs-6" (click)="preview(result)">
                        <img src="./assets/img/icn-view.svg" alt="preview map service" />Preview</div>

                    <div class="record-details col-xs-6" (click)="gotoDetails(result)">Details</div>
                </div>
            </div>
            <div class="list-framework col-xs-1">
                <div *ngIf="result['keywords'].indexOf('Framework') !== -1" class="framework-record">
                    <img src="assets/img/framework-icn.png" alt="Oregon Framework Dataset" title="Oregon Framework Dataset" />
                </div>
            </div>
        </div>
    </div>
</div>
<app-map-preview-cmp></app-map-preview-cmp>